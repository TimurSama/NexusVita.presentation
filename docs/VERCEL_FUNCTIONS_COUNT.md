# –ü–æ–¥—Å—á–µ—Ç Serverless Functions –¥–ª—è Vercel

## üìä –¢–µ–∫—É—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `api/`:

1. ‚úÖ `api/admin/setup-webhook.ts` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ webhook
2. ‚úÖ `api/auth/telegram-auth.ts` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
3. ‚úÖ `api/telegram/debug.ts` - –æ—Ç–ª–∞–¥–∫–∞ Telegram
4. ‚úÖ `api/telegram/webhook-info.ts` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ webhook
5. ‚úÖ `api/telegram/webhook.ts` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ webhook
6. ‚úÖ `api/users/[userId]/account.ts` - –∞–∫–∫–∞—É–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
7. ‚úÖ `api/users/[userId]/documents.ts` - –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
8. ‚úÖ `api/users/[userId]/goals.ts` - —Ü–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
9. ‚úÖ `api/users/[userId]/metrics.ts` - –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
10. ‚úÖ `api/users/[userId]/plans.ts` - –ø–ª–∞–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
11. ‚úÖ `api/users/[userId]/profile.ts` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ò—Ç–æ–≥–æ: 11 —Ñ—É–Ω–∫—Ü–∏–π**

---

## ‚ö†Ô∏è –õ–ò–ú–ò–¢ VERCEL

**Hobby –ø–ª–∞–Ω (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π):**
- **–ú–∞–∫—Å–∏–º—É–º: 12 Serverless Functions**
- –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: **11 —Ñ—É–Ω–∫—Ü–∏–π**
- –û—Å—Ç–∞–ª–æ—Å—å: **1 —Ñ—É–Ω–∫—Ü–∏—è**

**Pro –ø–ª–∞–Ω:**
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π

---

## üîç –ü–†–û–ë–õ–ï–ú–ê

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —É –Ω–∞—Å 11 —Ñ—É–Ω–∫—Ü–∏–π (–º–µ–Ω—å—à–µ –ª–∏–º–∏—Ç–∞ –≤ 12), Vercel –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É:
```
Error: No more than 12 Serverless Functions can be added to a Deployment on the Hobby plan.
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. Vercel –º–æ–∂–µ—Ç —Å—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã –≤ `api/lib/` –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ö–æ—Ç—è –æ–Ω–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã)
2. –ú–æ–≥—É—Ç –±—ã—Ç—å —Å–∫—Ä—ã—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –¥—É–±–ª–∏–∫–∞—Ç—ã
3. Vercel –º–æ–∂–µ—Ç —Å—á–∏—Ç–∞—Ç—å –∫–∞–∂–¥—É—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–¥–µ–ª—å–Ω–æ

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ `api/users/[userId]/*` –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª `api/users/[userId]/index.ts`:

**–ë—ã–ª–æ:**
- `api/users/[userId]/account.ts`
- `api/users/[userId]/documents.ts`
- `api/users/[userId]/goals.ts`
- `api/users/[userId]/metrics.ts`
- `api/users/[userId]/plans.ts`
- `api/users/[userId]/profile.ts`

**–°—Ç–∞–Ω–µ—Ç:**
- `api/users/[userId]/index.ts` (1 —Ñ—É–Ω–∫—Ü–∏—è –≤–º–µ—Å—Ç–æ 6)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 11 ‚Üí 6 —Ñ—É–Ω–∫—Ü–∏–π (—ç–∫–æ–Ω–æ–º–∏—è 5 —Ñ—É–Ω–∫—Ü–∏–π)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ Render

–§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –Ω–∞ Render:
- `api/telegram/debug.ts` - —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- `api/telegram/webhook-info.ts` - —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- `api/admin/setup-webhook.ts` - –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ Render

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 11 ‚Üí 8 —Ñ—É–Ω–∫—Ü–∏–π

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥

–û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ Render:
- –û–±—ä–µ–¥–∏–Ω–∏—Ç—å 6 —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ 1 = -5
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å 3 –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ Render = -3

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 11 ‚Üí 3 —Ñ—É–Ω–∫—Ü–∏–∏ (—ç–∫–æ–Ω–æ–º–∏—è 8 —Ñ—É–Ω–∫—Ü–∏–π)

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1** - –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º –≤–Ω—É—Ç—Ä–∏.

–≠—Ç–æ:
- ‚úÖ –£–º–µ–Ω—å—à–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π —Å 11 –¥–æ 6
- ‚úÖ –£–ø—Ä–æ—Å—Ç–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (URL –æ—Å—Ç–∞—é—Ç—Å—è —Ç–µ –∂–µ)
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç –∑–∞–ø–∞—Å –≤ 6 —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è
