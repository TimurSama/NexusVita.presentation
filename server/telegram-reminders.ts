import { userDb, telegramBotSettingsDb, dailyPlanDb } from './database';

// Import bot after it's initialized
let bot: any = null;

export function setBot(telegramBot: any) {
  bot = telegramBot;
}

// Different exercise descriptions for reminders
const exerciseReminders = [
  {
    title: 'Ğ Ğ°Ğ·Ğ¼Ğ¸Ğ½ĞºĞ° Ğ´Ğ»Ñ ÑĞ¿Ğ¸Ğ½Ñ‹',
    description: 'Ğ’ÑÑ‚Ğ°Ğ½ÑŒÑ‚Ğµ, Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚Ğµ Ñ€ÑƒĞºĞ¸ Ğ½Ğ° Ğ¿Ğ¾ÑÑ. ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ğ½Ğ°ĞºĞ»Ğ¾Ğ½ÑĞ¹Ñ‚ĞµÑÑŒ Ğ²Ğ»ĞµĞ²Ğ¾ Ğ¸ Ğ²Ğ¿Ñ€Ğ°Ğ²Ğ¾ Ğ¿Ğ¾ 5 Ñ€Ğ°Ğ· Ğ² ĞºĞ°Ğ¶Ğ´ÑƒÑ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñƒ. Ğ­Ñ‚Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚ ÑĞ½ÑÑ‚ÑŒ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ Ñ Ğ±Ğ¾ĞºĞ¾Ğ²Ñ‹Ñ… Ğ¼Ñ‹ÑˆÑ† ÑĞ¿Ğ¸Ğ½Ñ‹.',
  },
  {
    title: 'Ğ Ğ°ÑÑ‚ÑĞ¶ĞºĞ° Ğ¿Ğ¾ÑÑĞ½Ğ¸Ñ†Ñ‹',
    description: 'Ğ¡ÑĞ´ÑŒÑ‚Ğµ Ğ½Ğ° ÑÑ‚ÑƒĞ», Ğ²Ñ‹Ğ¿Ñ€ÑĞ¼Ğ¸Ñ‚Ğµ ÑĞ¿Ğ¸Ğ½Ñƒ. ĞĞ°ĞºĞ»Ğ¾Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğ²Ğ¿ĞµÑ€ĞµĞ´, ÑÑ‚Ğ°Ñ€Ğ°ÑÑÑŒ Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚ÑŒ Ñ€ÑƒĞºĞ°Ğ¼Ğ¸ Ğ´Ğ¾ Ğ¿Ğ¾Ğ»Ğ°. Ğ—Ğ°Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° 10 ÑĞµĞºÑƒĞ½Ğ´, Ğ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ğ²ĞµÑ€Ğ½Ğ¸Ñ‚ĞµÑÑŒ. ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ 3 Ñ€Ğ°Ğ·Ğ°.',
  },
  {
    title: 'Ğ’Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ Ñ‚Ğ°Ğ·Ğ¾Ğ¼',
    description: 'Ğ’ÑÑ‚Ğ°Ğ½ÑŒÑ‚Ğµ, Ñ€ÑƒĞºĞ¸ Ğ½Ğ° Ğ¿Ğ¾ÑÑ. ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ğ²Ñ€Ğ°Ñ‰Ğ°Ğ¹Ñ‚Ğµ Ñ‚Ğ°Ğ·Ğ¾Ğ¼ Ğ¿Ğ¾ ĞºÑ€ÑƒĞ³Ñƒ: 5 Ñ€Ğ°Ğ· Ğ¿Ğ¾ Ñ‡Ğ°ÑĞ¾Ğ²Ğ¾Ğ¹ ÑÑ‚Ñ€ĞµĞ»ĞºĞµ, Ğ·Ğ°Ñ‚ĞµĞ¼ 5 Ñ€Ğ°Ğ· Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ². Ğ­Ñ‚Ğ¾ ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ Ğ¿Ğ¾Ğ´Ğ²Ğ¸Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ğ¾ÑÑĞ½Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ´ĞµĞ»Ğ°.',
  },
  {
    title: 'Ğ Ğ°ÑÑ‚ÑĞ¶ĞºĞ° ÑĞ³Ğ¾Ğ´Ğ¸Ñ†',
    description: 'Ğ¡ÑĞ´ÑŒÑ‚Ğµ Ğ½Ğ° ÑÑ‚ÑƒĞ», Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚Ğµ Ğ¾Ğ´Ğ½Ñƒ Ğ½Ğ¾Ğ³Ñƒ Ğ½Ğ° ĞºĞ¾Ğ»ĞµĞ½Ğ¾ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹. ĞĞ°ĞºĞ»Ğ¾Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğ²Ğ¿ĞµÑ€ĞµĞ´, Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒÑ Ñ€Ğ°ÑÑ‚ÑĞ¶ĞµĞ½Ğ¸Ğµ Ğ² ÑĞ³Ğ¾Ğ´Ğ¸Ñ†Ğµ. Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ 15 ÑĞµĞºÑƒĞ½Ğ´, Ğ¿Ğ¾Ğ¼ĞµĞ½ÑĞ¹Ñ‚Ğµ Ğ½Ğ¾Ğ³Ñƒ.',
  },
  {
    title: 'Ğ¡Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ğ»Ğ¾Ğ¿Ğ°Ñ‚Ğ¾Ğº',
    description: 'Ğ¡ÑĞ´ÑŒÑ‚Ğµ Ğ¿Ñ€ÑĞ¼Ğ¾, ÑĞ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ»Ğ¾Ğ¿Ğ°Ñ‚ĞºĞ¸ Ğ²Ğ¼ĞµÑÑ‚Ğµ, ĞºĞ°Ğº Ğ±ÑƒĞ´Ñ‚Ğ¾ Ğ¿Ñ‹Ñ‚Ğ°ĞµÑ‚ĞµÑÑŒ Ğ·Ğ°Ğ¶Ğ°Ñ‚ÑŒ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ½Ğ¸Ğ¼Ğ¸ ĞºĞ°Ñ€Ğ°Ğ½Ğ´Ğ°Ñˆ. Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ 5 ÑĞµĞºÑƒĞ½Ğ´, Ñ€Ğ°ÑÑĞ»Ğ°Ğ±ÑŒÑ‚ĞµÑÑŒ. ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ 10 Ñ€Ğ°Ğ·.',
  },
  {
    title: 'ĞĞ°ĞºĞ»Ğ¾Ğ½Ñ‹ Ğ³Ğ¾Ğ»Ğ¾Ğ²Ñ‹',
    description: 'ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ğ½Ğ°ĞºĞ»Ğ¾Ğ½Ğ¸Ñ‚Ğµ Ğ³Ğ¾Ğ»Ğ¾Ğ²Ñƒ Ğ²Ğ¿Ñ€Ğ°Ğ²Ğ¾, Ğ·Ğ°Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° 5 ÑĞµĞºÑƒĞ½Ğ´. Ğ’ĞµÑ€Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğ² Ñ†ĞµĞ½Ñ‚Ñ€. ĞĞ°ĞºĞ»Ğ¾Ğ½Ğ¸Ñ‚Ğµ Ğ²Ğ»ĞµĞ²Ğ¾, Ğ·Ğ°Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ĞµÑÑŒ. ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ¾ 3 Ñ€Ğ°Ğ·Ğ° Ğ² ĞºĞ°Ğ¶Ğ´ÑƒÑ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñƒ.',
  },
  {
    title: 'Ğ’Ñ‹Ñ‚ÑĞ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ½Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ°',
    description: 'Ğ’ÑÑ‚Ğ°Ğ½ÑŒÑ‚Ğµ, Ğ¿Ğ¾Ğ´Ğ½Ğ¸Ğ¼Ğ¸Ñ‚Ğµ Ñ€ÑƒĞºĞ¸ Ğ²Ğ²ĞµÑ€Ñ…, Ğ¿Ğ¾Ñ‚ÑĞ½Ğ¸Ñ‚ĞµÑÑŒ ĞºĞ°Ğº Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ²Ñ‹ÑˆĞµ. Ğ—Ğ°Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° 5 ÑĞµĞºÑƒĞ½Ğ´. ĞĞ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ñ€ÑƒĞºĞ¸, Ñ€Ğ°ÑÑĞ»Ğ°Ğ±ÑŒÑ‚ĞµÑÑŒ. ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ 5 Ñ€Ğ°Ğ·.',
  },
  {
    title: 'ĞŸĞ¾Ğ²Ğ¾Ñ€Ğ¾Ñ‚Ñ‹ ĞºĞ¾Ñ€Ğ¿ÑƒÑĞ°',
    description: 'Ğ¡ÑĞ´ÑŒÑ‚Ğµ Ğ¿Ñ€ÑĞ¼Ğ¾, Ñ€ÑƒĞºĞ¸ Ğ½Ğ° ĞºĞ¾Ğ»ĞµĞ½ÑÑ…. ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½Ğ¸Ñ‚Ğµ ĞºĞ¾Ñ€Ğ¿ÑƒÑ Ğ²Ğ¿Ñ€Ğ°Ğ²Ğ¾, Ğ·Ğ°Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° 5 ÑĞµĞºÑƒĞ½Ğ´. Ğ’ĞµÑ€Ğ½Ğ¸Ñ‚ĞµÑÑŒ, Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½Ğ¸Ñ‚Ğµ Ğ²Ğ»ĞµĞ²Ğ¾. ĞŸĞ¾ 5 Ñ€Ğ°Ğ· Ğ² ĞºĞ°Ğ¶Ğ´ÑƒÑ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñƒ.',
  },
  {
    title: 'ĞœĞ°ÑÑĞ°Ğ¶ Ğ¿Ğ¾ÑÑĞ½Ğ¸Ñ†Ñ‹',
    description: 'Ğ’ÑÑ‚Ğ°Ğ½ÑŒÑ‚Ğµ, Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚Ğµ Ğ»Ğ°Ğ´Ğ¾Ğ½Ğ¸ Ğ½Ğ° Ğ¿Ğ¾ÑÑĞ½Ğ¸Ñ†Ñƒ. ĞšÑ€ÑƒĞ³Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ¼Ğ°ÑÑĞ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾ÑÑĞ½Ğ¸Ñ†Ñƒ 30 ÑĞµĞºÑƒĞ½Ğ´. Ğ­Ñ‚Ğ¾ ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ ĞºÑ€Ğ¾Ğ²Ğ¾Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¸ ÑĞ½Ğ¸Ğ¼ĞµÑ‚ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ.',
  },
  {
    title: 'Ğ Ğ°ÑÑ‚ÑĞ¶ĞºĞ° Ğ¿Ğ¾Ğ´ĞºĞ¾Ğ»ĞµĞ½Ğ½Ñ‹Ñ… ÑÑƒÑ…Ğ¾Ğ¶Ğ¸Ğ»Ğ¸Ğ¹',
    description: 'Ğ¡ÑĞ´ÑŒÑ‚Ğµ Ğ½Ğ° ĞºÑ€Ğ°Ğ¹ ÑÑ‚ÑƒĞ»Ğ°, Ğ²Ñ‹Ğ¿Ñ€ÑĞ¼Ğ¸Ñ‚Ğµ Ğ¾Ğ´Ğ½Ñƒ Ğ½Ğ¾Ğ³Ñƒ Ğ²Ğ¿ĞµÑ€ĞµĞ´. ĞĞ°ĞºĞ»Ğ¾Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğº Ğ½Ğ¾Ğ³Ğµ, Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒÑ Ñ€Ğ°ÑÑ‚ÑĞ¶ĞµĞ½Ğ¸Ğµ. Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ 15 ÑĞµĞºÑƒĞ½Ğ´, Ğ¿Ğ¾Ğ¼ĞµĞ½ÑĞ¹Ñ‚Ğµ Ğ½Ğ¾Ğ³Ñƒ.',
  },
  {
    title: 'Ğ”Ñ‹Ñ…Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ³Ğ¸Ğ¼Ğ½Ğ°ÑÑ‚Ğ¸ĞºĞ°',
    description: 'Ğ¡ÑĞ´ÑŒÑ‚Ğµ Ğ¿Ñ€ÑĞ¼Ğ¾, ÑĞ´ĞµĞ»Ğ°Ğ¹Ñ‚Ğµ Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ¸Ğ¹ Ğ²Ğ´Ğ¾Ñ… Ñ‡ĞµÑ€ĞµĞ· Ğ½Ğ¾Ñ (4 ÑĞµĞºÑƒĞ½Ğ´Ñ‹), Ğ·Ğ°Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ Ğ´Ñ‹Ñ…Ğ°Ğ½Ğ¸Ğµ (4 ÑĞµĞºÑƒĞ½Ğ´Ñ‹), Ğ²Ñ‹Ğ´Ğ¾Ñ…Ğ½Ğ¸Ñ‚Ğµ Ñ‡ĞµÑ€ĞµĞ· Ñ€Ğ¾Ñ‚ (4 ÑĞµĞºÑƒĞ½Ğ´Ñ‹). ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ 5 Ñ€Ğ°Ğ·.',
  },
  {
    title: 'ĞšÑ€ÑƒĞ³Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ Ğ¿Ğ»ĞµÑ‡Ğ°Ğ¼Ğ¸',
    description: 'Ğ’ÑÑ‚Ğ°Ğ½ÑŒÑ‚Ğµ Ğ¸Ğ»Ğ¸ ÑÑĞ´ÑŒÑ‚Ğµ Ğ¿Ñ€ÑĞ¼Ğ¾. ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ğ²Ñ€Ğ°Ñ‰Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ğ»ĞµÑ‡Ğ°Ğ¼Ğ¸ Ğ½Ğ°Ğ·Ğ°Ğ´: 10 Ñ€Ğ°Ğ·, Ğ·Ğ°Ñ‚ĞµĞ¼ Ğ²Ğ¿ĞµÑ€ĞµĞ´ 10 Ñ€Ğ°Ğ·. Ğ­Ñ‚Ğ¾ ÑĞ½Ğ¸Ğ¼ĞµÑ‚ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ Ğ² Ğ¿Ğ»ĞµÑ‡ĞµĞ²Ğ¾Ğ¼ Ğ¿Ğ¾ÑÑĞµ.',
  },
  {
    title: 'Ğ Ğ°ÑÑ‚ÑĞ¶ĞºĞ° Ğ³Ñ€ÑƒĞ´Ğ½Ñ‹Ñ… Ğ¼Ñ‹ÑˆÑ†',
    description: 'Ğ’ÑÑ‚Ğ°Ğ½ÑŒÑ‚Ğµ Ğ² Ğ´Ğ²ĞµÑ€Ğ½Ğ¾Ğ¼ Ğ¿Ñ€Ğ¾ĞµĞ¼Ğµ, Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚Ğµ Ğ¿Ñ€ĞµĞ´Ğ¿Ğ»ĞµÑ‡ÑŒÑ Ğ½Ğ° ĞºĞ¾ÑÑĞºĞ¸. ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ğ½Ğ°ĞºĞ»Ğ¾Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğ²Ğ¿ĞµÑ€ĞµĞ´, Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒÑ Ñ€Ğ°ÑÑ‚ÑĞ¶ĞµĞ½Ğ¸Ğµ Ğ² Ğ³Ñ€ÑƒĞ´Ğ¸. Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ 20 ÑĞµĞºÑƒĞ½Ğ´.',
  },
  {
    title: 'ĞœĞ°ÑÑĞ°Ğ¶ ÑˆĞµĞ¸',
    description: 'Ğ¡ÑĞ´ÑŒÑ‚Ğµ, Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚Ğµ Ğ¿Ğ°Ğ»ÑŒÑ†Ñ‹ Ğ½Ğ° Ğ·Ğ°Ğ´Ğ½ÑÑ Ñ‡Ğ°ÑÑ‚ÑŒ ÑˆĞµĞ¸. ĞœÑĞ³ĞºĞ¸Ğ¼Ğ¸ ĞºÑ€ÑƒĞ³Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ¼Ğ°ÑÑĞ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ¼Ñ‹ÑˆÑ†Ñ‹ ÑˆĞµĞ¸ 30 ÑĞµĞºÑƒĞ½Ğ´. Ğ­Ñ‚Ğ¾ ÑĞ½Ğ¸Ğ¼ĞµÑ‚ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ.',
  },
  {
    title: 'Ğ£Ğ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ğµ "ĞºĞ¾ÑˆĞºĞ°-ĞºĞ¾Ñ€Ğ¾Ğ²Ğ°"',
    description: 'Ğ’ÑÑ‚Ğ°Ğ½ÑŒÑ‚Ğµ Ğ½Ğ° Ñ‡ĞµÑ‚Ğ²ĞµÑ€ĞµĞ½ÑŒĞºĞ¸. ĞĞ° Ğ²Ğ´Ğ¾Ñ…Ğµ Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¸Ñ‚Ğµ ÑĞ¿Ğ¸Ğ½Ñƒ Ğ²Ğ½Ğ¸Ğ· (Ğ¿Ğ¾Ğ·Ğ° "ĞºĞ¾Ñ€Ğ¾Ğ²Ğ°"), Ğ½Ğ° Ğ²Ñ‹Ğ´Ğ¾Ñ…Ğµ Ğ²Ñ‹Ğ³Ğ½Ğ¸Ñ‚Ğµ ÑĞ¿Ğ¸Ğ½Ñƒ Ğ²Ğ²ĞµÑ€Ñ… (Ğ¿Ğ¾Ğ·Ğ° "ĞºĞ¾ÑˆĞºĞ°"). ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ 5 Ñ€Ğ°Ğ·.',
  },
  {
    title: 'Ğ Ğ°ÑÑ‚ÑĞ¶ĞºĞ° ÑĞ³Ğ¸Ğ±Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ±ĞµĞ´Ñ€Ğ°',
    description: 'Ğ’ÑÑ‚Ğ°Ğ½ÑŒÑ‚Ğµ Ğ² Ğ²Ñ‹Ğ¿Ğ°Ğ´, Ğ¿ĞµÑ€ĞµĞ´Ğ½ÑÑ Ğ½Ğ¾Ğ³Ğ° ÑĞ¾Ğ³Ğ½ÑƒÑ‚Ğ°, Ğ·Ğ°Ğ´Ğ½ÑÑ Ğ¿Ñ€ÑĞ¼Ğ°Ñ. ĞĞ°ĞºĞ»Ğ¾Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğ²Ğ¿ĞµÑ€ĞµĞ´, Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒÑ Ñ€Ğ°ÑÑ‚ÑĞ¶ĞµĞ½Ğ¸Ğµ Ğ² Ğ¿ĞµÑ€ĞµĞ´Ğ½ĞµĞ¹ Ñ‡Ğ°ÑÑ‚Ğ¸ Ğ±ĞµĞ´Ñ€Ğ° Ğ·Ğ°Ğ´Ğ½ĞµĞ¹ Ğ½Ğ¾Ğ³Ğ¸. Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ 20 ÑĞµĞºÑƒĞ½Ğ´.',
  },
  {
    title: 'Ğ¡ĞºÑ€ÑƒÑ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ¸Ğ´Ñ',
    description: 'Ğ¡ÑĞ´ÑŒÑ‚Ğµ, Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚Ğµ Ğ¾Ğ´Ğ½Ñƒ Ñ€ÑƒĞºÑƒ Ğ½Ğ° ĞºĞ¾Ğ»ĞµĞ½Ğ¾ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ½Ğ¾Ğ¹ Ğ½Ğ¾Ğ³Ğ¸. ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½Ğ¸Ñ‚Ğµ ĞºĞ¾Ñ€Ğ¿ÑƒÑ, ÑƒÑĞ¸Ğ»Ğ¸Ğ²Ğ°Ñ ÑĞºÑ€ÑƒÑ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ. Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ 10 ÑĞµĞºÑƒĞ½Ğ´, Ğ¿Ğ¾Ğ¼ĞµĞ½ÑĞ¹Ñ‚Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñƒ.',
  },
  {
    title: 'ĞœĞ°ÑÑĞ°Ğ¶ Ñ‚Ğ¾Ñ‡ĞµĞº Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ',
    description: 'ĞĞ°Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ±Ğ¾Ğ»ĞµĞ·Ğ½ĞµĞ½Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ² Ğ¿Ğ¾ÑÑĞ½Ğ¸Ñ†Ğµ. ĞœÑĞ³ĞºĞ¾ Ğ½Ğ°Ğ´Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ½Ğ° Ğ½Ğ¸Ñ… Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ¼Ğ¸ Ğ¿Ğ°Ğ»ÑŒÑ†Ğ°Ğ¼Ğ¸ 10 ÑĞµĞºÑƒĞ½Ğ´, Ğ·Ğ°Ñ‚ĞµĞ¼ Ñ€Ğ°ÑÑĞ»Ğ°Ğ±ÑŒÑ‚ĞµÑÑŒ. ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ 3 Ñ€Ğ°Ğ·Ğ° Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ Ñ‚Ğ¾Ñ‡ĞºĞ¸.',
  },
  {
    title: 'Ğ Ğ°ÑÑ‚ÑĞ¶ĞºĞ° Ğ±Ğ¾ĞºĞ¾Ğ²Ñ‹Ñ… Ğ¼Ñ‹ÑˆÑ†',
    description: 'Ğ’ÑÑ‚Ğ°Ğ½ÑŒÑ‚Ğµ, Ğ¿Ğ¾Ğ´Ğ½Ğ¸Ğ¼Ğ¸Ñ‚Ğµ Ğ¾Ğ´Ğ½Ñƒ Ñ€ÑƒĞºÑƒ Ğ²Ğ²ĞµÑ€Ñ…. ĞĞ°ĞºĞ»Ğ¾Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğ² Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ½ÑƒÑ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñƒ, Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒÑ Ñ€Ğ°ÑÑ‚ÑĞ¶ĞµĞ½Ğ¸Ğµ. Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ 15 ÑĞµĞºÑƒĞ½Ğ´, Ğ¿Ğ¾Ğ¼ĞµĞ½ÑĞ¹Ñ‚Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñƒ.',
  },
  {
    title: 'Ğ£ĞºÑ€ĞµĞ¿Ğ»ĞµĞ½Ğ¸Ğµ Ğ¼Ñ‹ÑˆÑ† ĞºĞ¾Ñ€Ğ°',
    description: 'Ğ¡ÑĞ´ÑŒÑ‚Ğµ Ğ¿Ñ€ÑĞ¼Ğ¾, Ğ½Ğ°Ğ¿Ñ€ÑĞ³Ğ¸Ñ‚Ğµ Ğ¼Ñ‹ÑˆÑ†Ñ‹ Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ°, ĞºĞ°Ğº Ğ±ÑƒĞ´Ñ‚Ğ¾ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ñ‚ĞµÑÑŒ Ğº ÑƒĞ´Ğ°Ñ€Ñƒ. Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ 10 ÑĞµĞºÑƒĞ½Ğ´, Ñ€Ğ°ÑÑĞ»Ğ°Ğ±ÑŒÑ‚ĞµÑÑŒ. ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ 5 Ñ€Ğ°Ğ·.',
  },
];

// Get random exercise reminder
function getRandomExerciseReminder() {
  const randomIndex = Math.floor(Math.random() * exerciseReminders.length);
  return exerciseReminders[randomIndex];
}

// Send reminder to user
export async function sendWorkReminder(userId: number, telegramId: string) {
  try {
    const settings = telegramBotSettingsDb.findByUserId(userId);
    
    // Check if reminders are enabled
    if (!settings || !settings.reminders_enabled) {
      return;
    }

    const exercise = getRandomExerciseReminder();
    
    const message = `â° ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğµ Ğ¾ Ñ€Ğ°Ğ·Ğ¼Ğ¸Ğ½ĞºĞµ\n\n` +
      `ğŸ’ª ${exercise.title}\n\n` +
      `${exercise.description}\n\n` +
      `ğŸ’¡ Ğ­Ñ‚Ğ¾ Ğ·Ğ°Ğ¹Ğ¼ĞµÑ‚ Ğ²ÑĞµĞ³Ğ¾ 1-2 Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñ‹, Ğ½Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ ÑĞ¿Ğ¸Ğ½Ñ‹!`;

    if (bot) {
      await bot.telegram.sendMessage(telegramId, message);
    }
  } catch (error) {
    console.error(`Error sending reminder to user ${userId}:`, error);
  }
}

// Start hourly reminders for working hours (9:00 - 18:00)
export function startHourlyReminders() {
  if (!bot) return;

  // Check every minute if it's time to send reminder
  setInterval(() => {
    const now = new Date();
    const hour = now.getHours();
    const minute = now.getMinutes();

    // Working hours: 9:00 - 18:00
    // Send reminder at the start of each hour (minute 0)
    if (hour >= 9 && hour < 18 && minute === 0) {
      // Get all users with Telegram connected and reminders enabled
      // For now, we'll send to Maria (ID: 403161451)
      const maria = userDb.findByTelegramId('403161451');
      if (maria && maria.telegram_id) {
        sendWorkReminder(maria.id, maria.telegram_id);
      }

      // TODO: In the future, iterate through all users with enabled reminders
      // const users = getAllUsersWithTelegram();
      // users.forEach(user => {
      //   if (user.telegram_id) {
      //     sendWorkReminder(user.id, user.telegram_id);
      //   }
      // });
    }
  }, 60000); // Check every minute

  console.log('Hourly reminders started');
}
