<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NexusVita - Health Ecosystem</title>
</head>
<body>
  <script>
    // Single Page Apps for GitHub Pages
    // https://github.com/rafgraph/spa-github-pages
    var pathSegmentsToKeep = 1; // Keep /NexusVita.presentation/
    var l = window.location;
    var path = l.pathname;
    var segments = path.split('/').filter(Boolean);
    
    // Determine base path
    var basePath = '/NexusVita.presentation/';
    
    // If we're at 404.html, redirect to index.html
    if (path.endsWith('/404.html') || path.endsWith('404.html')) {
      // Extract the original path before 404.html
      var originalPath = path.replace('/404.html', '').replace('404.html', '');
      if (originalPath === basePath || originalPath === '/NexusVita.presentation') {
        // Root path - go to home
        l.replace(basePath + 'index.html');
      } else {
        // Preserve the route
        var route = originalPath.replace(basePath, '');
        if (route && route !== '/') {
          sessionStorage.setItem('wouter-location', '/' + route);
        }
        l.replace(basePath + 'index.html');
      }
    } else if (path === '/' || path === basePath || path === '/NexusVita.presentation') {
      // Root path - redirect to index.html
      l.replace(basePath + 'index.html');
    } else {
      // Other paths - redirect to index.html with route preservation
      var route = path.replace(basePath, '');
      if (route && route !== '/') {
        sessionStorage.setItem('wouter-location', '/' + route);
      }
      l.replace(basePath + 'index.html');
    }
  </script>
</body>
</html>
