<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NexusVita - Health Ecosystem</title>
</head>
<body>
  <script>
    // Single Page Apps for GitHub Pages
    // https://github.com/rafgraph/spa-github-pages
    var pathSegmentsToKeep = 1; // Keep /NexusVita.presentation/
    var l = window.location;
    
    // If we're at the root or 404, redirect to index.html
    if (l.pathname === '/' || l.pathname === '/NexusVita.presentation/' || l.pathname.endsWith('/404.html')) {
      var basePath = '/NexusVita.presentation/';
      var redirect = basePath + 'index.html';
      if (l.pathname !== basePath && l.pathname !== basePath + 'index.html') {
        // Preserve the original path for SPA routing
        var originalPath = l.pathname.replace(basePath, '').replace('/404.html', '');
        if (originalPath && originalPath !== '/') {
          redirect += '#!' + originalPath;
        }
      }
      l.replace(redirect);
    } else {
      // Handle SPA routing
      var path = l.pathname;
      var segments = path.split('/').filter(Boolean);
      var baseSegments = segments.slice(0, pathSegmentsToKeep);
      var routeSegments = segments.slice(pathSegmentsToKeep);
      
      var basePath = '/' + baseSegments.join('/') + '/';
      var route = routeSegments.length > 0 ? '/' + routeSegments.join('/') : '/';
      
      // Store the route in sessionStorage for the SPA router
      sessionStorage.setItem('wouter-location', route);
      
      // Redirect to index.html
      l.replace(basePath + 'index.html');
    }
  </script>
</body>
</html>
